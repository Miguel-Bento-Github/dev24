<script setup lang="ts">
defineProps<{ isDrawing: boolean }>();
</script>

<template>
  <svg
    :class="{ active: isDrawing }"
    class="email"
    width="128pt"
    height="128pt"
    version="1.1"
    viewBox="0 0 128 128"
    xmlns="http://www.w3.org/2000/svg"
    labelledby="emailTitle"
  >
    <title id="emailTitle">email icon</title>
    <path
      pathLength="100"
      d="m74.699 16.738-6.1641 3.5586c-0.57812 0.33203-0.77734 1.0703-0.44141 1.6484 0.33594 0.57813 1.0742 0.77344 1.6484 0.44141l6.168-3.5586c0.57812-0.33203 0.77734-1.0703 0.44141-1.6484-0.33594-0.57813-1.0742-0.77734-1.6523-0.44141z"
    />
    <path
      pathLength="100"
      d="m18.891 112.42c0 0.42969 0.23047 0.82422 0.60156 1.0391 9.1602 5.3242 14.676 8.4883 14.41 8.3555 0.40234 0.20312 0.79297 0.18359 1.1445-0.019531l73.637-42.512c0.42969-0.25 0.60547-0.77734 0.60547-1.0508l-0.17969-62.656c-0.09375-0.24609-0.097656-0.74609-0.60156-1.0391h-0.003906-0.003906l-14.336-8.332c-0.375-0.21875-0.83594-0.21875-1.2109-0.003906l-11.938 6.8906c-0.57812 0.33203-0.77734 1.0703-0.44141 1.6484 0.33203 0.57812 1.0703 0.77344 1.6484 0.44141l11.332-6.543 11.934 6.9375-71.223 41.121c-1.3984-0.8125-12.438-7.2305-11.938-6.9375l41.297-23.844c0.57812-0.33203 0.77734-1.0703 0.44141-1.6484-0.33594-0.57812-1.0742-0.77344-1.6484-0.44141l-43.102 24.887c-0.37891 0.21875-0.60156 0.62109-0.60547 1.043v0.003907 0.003906zm19.074 4.9023 26.055-42.41 6.6211 3.4414c0.56641 0.29297 1.3047 0.027343 1.5938-0.45312l7.0117-11.789 26.219 12.242c-9.543 5.5117-61.352 35.422-67.5 38.969zm68.742-97.371 0.16016 56.391-26.375-12.316zm-2.2109-1.0117-33.754 56.746c-21.547-11.195-22.883-11.891-33.965-17.648zm-42.625 54.859-26.234 42.703-0.16016-56.414zm-28.812-15.008 0.16797 59.863-11.922-6.9297-0.16797-59.867z"
    />
    <path
      class="strokeless"
      pathLength="100"
      d="m74.699 16.738-6.1641 3.5586c-0.57812 0.33203-0.77734 1.0703-0.44141 1.6484 0.33594 0.57813 1.0742 0.77344 1.6484 0.44141l6.168-3.5586c0.57812-0.33203 0.77734-1.0703 0.44141-1.6484-0.33594-0.57813-1.0742-0.77734-1.6523-0.44141z"
    />
    <path
      class="strokeless"
      pathLength="100"
      d="m18.891 112.42c0 0.42969 0.23047 0.82422 0.60156 1.0391 9.1602 5.3242 14.676 8.4883 14.41 8.3555 0.40234 0.20312 0.79297 0.18359 1.1445-0.019531l73.637-42.512c0.42969-0.25 0.60547-0.77734 0.60547-1.0508l-0.17969-62.656c-0.09375-0.24609-0.097656-0.74609-0.60156-1.0391h-0.003906-0.003906l-14.336-8.332c-0.375-0.21875-0.83594-0.21875-1.2109-0.003906l-11.938 6.8906c-0.57812 0.33203-0.77734 1.0703-0.44141 1.6484 0.33203 0.57812 1.0703 0.77344 1.6484 0.44141l11.332-6.543 11.934 6.9375-71.223 41.121c-1.3984-0.8125-12.438-7.2305-11.938-6.9375l41.297-23.844c0.57812-0.33203 0.77734-1.0703 0.44141-1.6484-0.33594-0.57812-1.0742-0.77344-1.6484-0.44141l-43.102 24.887c-0.37891 0.21875-0.60156 0.62109-0.60547 1.043v0.003907 0.003906zm19.074 4.9023 26.055-42.41 6.6211 3.4414c0.56641 0.29297 1.3047 0.027343 1.5938-0.45312l7.0117-11.789 26.219 12.242c-9.543 5.5117-61.352 35.422-67.5 38.969zm68.742-97.371 0.16016 56.391-26.375-12.316zm-2.2109-1.0117-33.754 56.746c-21.547-11.195-22.883-11.891-33.965-17.648zm-42.625 54.859-26.234 42.703-0.16016-56.414zm-28.812-15.008 0.16797 59.863-11.922-6.9297-0.16797-59.867z"
    />
  </svg>
</template>

<style lang="scss" scoped>
.email {
  fill: none;
  stroke: currentColor;
  stroke-width: 1px;
  stroke-dasharray: 100;
  stroke-dashoffset: 0;
  height: 40px;
  width: 40px;
  filter: drop-shadow(0 0 2px #fa8072);

  &:hover .strokeless,
  &.active .strokeless {
    animation-play-state: running;
  }
}

.strokeless {
  stroke-width: 2px;
  stroke-dashoffset: 100;
  animation: draw 2s ease-in-out alternate forwards;
  animation-play-state: paused;
}

@keyframes draw {
  to {
    stroke-dashoffset: 0;
  }
}
</style>
